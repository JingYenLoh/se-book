<div></div>
<p></p>
<p><span class="dimmed"><strong><span>Implementation → Code Quality → Readability → Basic →
      </span></strong></span></p>
<div id="title-and-body">
  <div>
    <h4 id="avoid-deep-nesting"><span>Avoid deep nesting</span><a class="fa fa-anchor" href="#avoid-deep-nesting" onclick="event.stopPropagation()"></a></h4>
  </div>
  <div id="main">
    <div>
      <blockquote>
        <p>If you need more than 3 levels of indentation, you're screwed anyway, and should fix your program. <sub>--Linux 1.3.53 CodingStyle</sub></p>
      </blockquote>
      <p>In particular, avoid <a href="https://blog.codinghorror.com/flattening-arrow-code/"><em>arrowhead</em> style code</a>.</p>
      <img src="/se-book/codeQuality/maximiseReadability/basic/avoidDeepNesting/images/arrowheadStyle.png" width="500">
      <p></p>
      <box>
        <p><span><span aria-hidden="true" class="fas fa-cube"></span></span> A real code example:</p>
        <div class="alt-java">
          <div>
            <table>
              <tr>
                <td>
                  <p>
                    <font color="red"><span><strong><span><span aria-hidden="true" class="fas fa-thumbs-down"></span></span> Bad</strong></span></font>
                  </p>
                  <pre><code class="hljs java" v-pre><span><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">subsidy</span><span class="hljs-params">()</span> </span>{<br></span><span>    <span class="hljs-keyword">int</span> subsidy;<br></span><span>    <span class="hljs-keyword">if</span> (!age) {<br></span><span>        <span class="hljs-keyword">if</span> (!sub) {<br></span><span>            <span class="hljs-keyword">if</span> (!notFullTime) {<br></span><span>                subsidy = <span class="hljs-number">500</span>;<br></span><span>            } <span class="hljs-keyword">else</span> {<br></span><span>                subsidy = <span class="hljs-number">250</span>;<br></span><span>            }<br></span><span>        } <span class="hljs-keyword">else</span> {<br></span><span>            subsidy = <span class="hljs-number">250</span>;<br></span><span>        }<br></span><span>    } <span class="hljs-keyword">else</span> {<br></span><span>        subsidy = -<span class="hljs-number">1</span>;<br></span><span>    }<br></span><span>    <span class="hljs-keyword">return</span> subsidy;<br></span><span>}<br></span></code></pre>
                </td>
                <td>&nbsp;&nbsp;<br><br></td>
                <td valign="top">
                  <p>
                    <font color="green"><span><strong><span><span aria-hidden="true" class="fas fa-thumbs-up"></span></span> Good</strong></span></font>
                  </p>
                  <pre><code class="hljs java" v-pre><span><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">calculateSubsidy</span><span class="hljs-params">()</span> </span>{<br></span><span>    <span class="hljs-keyword">int</span> subsidy;<br></span><span>    <span class="hljs-keyword">if</span> (isSenior) {<br></span><span>        subsidy = REJECT_SENIOR;<br></span><span>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isAlreadySubsidised) {<br></span><span>        subsidy = SUBSIDISED_SUBSIDY;<br></span><span>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isPartTime) {<br></span><span>        subsidy = FULLTIME_SUBSIDY * RATIO;<br></span><span>    } <span class="hljs-keyword">else</span> {<br></span><span>        subsidy = FULLTIME_SUBSIDY;<br></span><span>    }<br></span><span>    <span class="hljs-keyword">return</span> subsidy;<br></span><span>}<br></span></code></pre>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="alt-python">
          <div>
            <table>
              <tr>
                <td>
                  <p>
                    <font color="red"><span><strong><span><span aria-hidden="true" class="fas fa-thumbs-down"></span></span> Bad</strong></span></font>
                  </p>
                  <pre><code class="hljs python" v-pre><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calculate_subs</span><span class="hljs-params">()</span>:</span><br></span><span>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> age:<br></span><span>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> sub:<br></span><span>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> not_fulltime:<br></span><span>                subsidy = <span class="hljs-number">500</span><br></span><span>            <span class="hljs-keyword">else</span>:<br></span><span>                subsidy = <span class="hljs-number">250</span><br></span><span>        <span class="hljs-keyword">else</span>:<br></span><span>            subsidy = <span class="hljs-number">250</span><br></span><span>    <span class="hljs-keyword">else</span>:<br></span><span>        subsidy = <span class="hljs-number">-1</span><br></span><span>    <span class="hljs-keyword">return</span> subsidy<br></span></code></pre>
                </td>
                <td>&nbsp;&nbsp;<br><br></td>
                <td valign="top">
                  <p>
                    <font color="green"><span><strong><span><span aria-hidden="true" class="fas fa-thumbs-up"></span></span> Good</strong></span></font>
                  </p>
                  <pre><code class="hljs python" v-pre><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calculate_subsidy</span><span class="hljs-params">()</span>:</span><br></span><span>    <span class="hljs-keyword">if</span> is_senior:<br></span><span>        <span class="hljs-keyword">return</span> REJECT_SENIOR<br></span><span>    <span class="hljs-keyword">elif</span> is_already_subsidised:<br></span><span>        <span class="hljs-keyword">return</span> SUBSIDISED_SUBSIDY<br></span><span>    <span class="hljs-keyword">elif</span> is_parttime:<br></span><span>        <span class="hljs-keyword">return</span> FULLTIME_SUBSIDY * RATIO<br></span><span>    <span class="hljs-keyword">else</span>:<br></span><span>        <span class="hljs-keyword">return</span> FULLTIME_SUBSIDY<br></span></code></pre>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </box>
    </div>
    <div></div>
  </div>
</div>