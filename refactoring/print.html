<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="MarkBind 2.14.1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SEforSDL - Refactoring [Printable]</title>
  <link rel="stylesheet" href="../markbind/css/bootstrap.min.css">
  <link rel="stylesheet" href="../markbind/css/bootstrap-vue.min.css">
  <link rel="stylesheet" href="../markbind/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
  <link rel="stylesheet" href="../markbind/css/octicons.css">
  <link rel="stylesheet" href="../markbind/css/github.min.css">
  <link rel="stylesheet" href="../markbind/css/markbind.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
  <link rel="stylesheet" href="/se-book/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css">
  <link rel="stylesheet" href="../markbind/layouts/default/styles.css">
  <link rel="stylesheet" href="../markbind/css/site-nav.css">
  <link rel="icon" href="/se-book/favicon.ico">
</head>

<body>
  <div id="app">
    <header>
      <navbar placement="top" type="dark" class="temp-navbar">
        <a slot="brand" href="https://se-education.org" title="SE-EDU" class="navbar-brand"><span><span aria-hidden="true" class="fas fa-chevron-circle-left"></span> <strong><strong>SE-EDU</strong></strong></span></a>
        <li><a href="/se-book/index.html" class="nav-link"><span><strong>Home</strong></span></a></li>
        <li><a href="/se-book/about/acknowledgements.html" class="nav-link"><span><strong>About</strong></span></a></li>
        <li><a href="https://github.com/se-edu/se-book" class="nav-link"><span><span aria-hidden="true" class="fab fa-github"></span></span></a></li>
        <li slot="right">
          <searchbar placeholder="Search" algolia menu-align-right></searchbar>
        </li>
      </navbar>
    </header>
    <div id="flex-body">
      <nav id="site-nav" class="navbar navbar-light bg-transparent">
        <div class="border-right-grey nav-inner position-sticky slim-scroll">
          <ul class="px-0 site-nav-list">
            <li class="mt-2"><button class="dropdown-btn"><strong>About this Book</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/about/acknowledgements.html" class="site-nav__a">About</a></li>
                  <li class="mt-2"><a href="/se-book/about/usage.html" class="site-nav__a">How to use this book</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Software Engineering</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/softwareEngineering/index.html" class="site-nav__a">Software Engineering</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Object-Oriented Programming</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/oop/index.html" class="site-nav__a">Object-Oriented Programming</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Requirements</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/requirements/index.html" class="site-nav__a">Requirements</a></li>
                  <li class="mt-2"><a href="/se-book/gatheringRequirements/index.html" class="site-nav__a">Gathering Requirements</a></li>
                  <li class="mt-2"><a href="/se-book/specifyingRequirements/index.html" class="site-nav__a">Specifying Requirements</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Design</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/design/index.html" class="site-nav__a">Design</a></li>
                  <li class="mt-2"><a href="/se-book/designFundamentals/index.html" class="site-nav__a">Design Fundamentals</a></li>
                  <li class="mt-2"><a href="/se-book/modeling/index.html" class="site-nav__a">Modeling</a></li>
                  <li class="mt-2"><a href="/se-book/architecture/index.html" class="site-nav__a">Architecture</a></li>
                  <li class="mt-2"><a href="/se-book/designPatterns/index.html" class="site-nav__a">Design Patterns</a></li>
                  <li class="mt-2"><a href="/se-book/designApproaches/index.html" class="site-nav__a">Design Approaches</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Implementation</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/ides/index.html" class="site-nav__a">IDEs</a></li>
                  <li class="mt-2"><a href="/se-book/codeQuality/index.html" class="site-nav__a">Code Quality</a></li>
                  <li class="mt-2"><a href="/se-book/refactoring/index.html" class="site-nav__a">Refactoring</a></li>
                  <li class="mt-2"><a href="/se-book/documentation/index.html" class="site-nav__a">Documentation</a></li>
                  <li class="mt-2"><a href="/se-book/errorHandling/index.html" class="site-nav__a">Error Handling</a></li>
                  <li class="mt-2"><a href="/se-book/integration/index.html" class="site-nav__a">Integration</a></li>
                  <li class="mt-2"><a href="/se-book/reuse/index.html" class="site-nav__a">Reuse</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Quality Assurance</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/qualityAssurance/index.html" class="site-nav__a">Quality Assurance</a></li>
                  <li class="mt-2"><a href="/se-book/testing/index.html" class="site-nav__a">Testing</a></li>
                  <li class="mt-2"><a href="/se-book/testCaseDesign/index.html" class="site-nav__a">Test Case Design</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Project Management</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/revisionControl/index.html" class="site-nav__a">Revision Control</a></li>
                  <li class="mt-2"><a href="/se-book/projectPlanning/index.html" class="site-nav__a">Project Planning</a></li>
                  <li class="mt-2"><a href="/se-book/teamwork/index.html" class="site-nav__a">Teamwork</a></li>
                  <li class="mt-2"><a href="/se-book/processModels/index.html" class="site-nav__a">SDLC Process Models</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Tools</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/uml/index.html" class="site-nav__a">UML</a></li>
                  <li class="mt-2"><a href="/se-book/intellij/index.html" class="site-nav__a">Intellij IDEA</a></li>
                  <li class="mt-2"><a href="/se-book/gitAndGithub/index.html" class="site-nav__a">Git and GitHub</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Principles</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/principles/index.html" class="site-nav__a">Principles</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><button class="dropdown-btn"><strong>Supplementary</strong>
                <i class="dropdown-btn-icon">
                  <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
              <div class="dropdown-container">
                <ul class="pl-3 site-nav-list">
                  <li class="mt-2"><a href="/se-book/cppToJava/index.html" class="site-nav__a">C++ to Java</a></li>
                </ul>
              </div>
            </li>
            <li class="mt-2"><strong><a href="/se-book/combined/exercises.html" class="site-nav__a">Combined Exercises</a></strong></li>
            <li class="mt-2"><strong><a href="/se-book/common/definitions.html" class="site-nav__a">List of Definitions</a></strong></li>
            <li class="mt-2"><strong><a href="/se-book/common/references.html" class="site-nav__a">List of References</a></strong></li>
            <li class="mt-2"><strong><a href="/se-book/common/outcomes.html" class="site-nav__a">List of Learning Outcomes</a></strong></li>
            <li class="mt-2"><strong><a href="/se-book/common/print.html" class="site-nav__a">Printable Version</a></strong></li>
          </ul>
        </div>
      </nav>

      <div id="content-wrapper">
        <h1 id="software-engeneering-for-self-directed-learners"><span class="text-dark"><strong><strong>Software Engeneering for Self-Directed Learners »</strong></strong></span><a class="fa fa-anchor" href="#software-engeneering-for-self-directed-learners" onclick="event.stopPropagation()"></a></h1>
        <link rel="stylesheet" href="/se-book/css/textbook.css">
        <div class="website-content">
          <div id="main">
            <h1 id="refactoring">Refactoring<a class="fa fa-anchor" href="#refactoring" onclick="event.stopPropagation()"></a></h1>
            <div>
              <p>
              <div>
                <h4 id="what"><span>What</span><a class="fa fa-anchor" href="#what" onclick="event.stopPropagation()"></a></h4>
              </div>
              </p>
              <div>
                <p>The first version of the code you write may not be of production quality. It is OK to first concentrate on making the code work, rather than worry over the quality of the code, as long as you improve the quality later. This process of <strong>improving a program's internal structure in small steps without modifying its external behavior is called <em>refactoring</em>.</strong></p>
                <ul>
                  <li><strong>Refactoring is not rewriting</strong>: Discarding poorly-written code entirely and re-writing it from scratch is not refactoring because refactoring needs to be done in small steps.</li>
                  <li><strong>Refactoring is not bug fixing</strong>: By definition, refactoring is different from bug fixing or any other modifications that alter the external behavior (e.g. adding a feature) of the component in concern.</li>
                </ul>
                <box>
                  <p><span class="badge badge-pill badge-warning"><span aria-hidden="true" class="fas fa-lightbulb"></span></span> Improving code structure can have many secondary benefits: e.g.</p>
                  <ul>
                    <li>hidden bugs become easier to spot</li>
                    <li>improve performance (sometimes, simpler code runs faster than complex code because simpler code is easier for the compiler to optimize).</li>
                  </ul>
                </box>
                <p>Given below are two common refactorings (<span trigger="click" for="modal:refactoring-catalog-what" v-b-popover.click.top.html="popoverGenerator" v-b-tooltip.click.top.html="tooltipContentGetter" v-on:click="$refs['modal:refactoring-catalog-what'].show()" class="trigger-click">more</span>).</p>
                <b-modal id="modal:refactoring-catalog-what" hide-footer size modal-class="mb-zoom" ref="modal:refactoring-catalog-what"><template slot="modal-title"><strong>Refactoring Catalogs</strong></template>
                  <div>
                    <ul>
                      <li>Java: <a href="http://refactoring.com/catalog/">http://refactoring.com/catalog/</a> - This is a list of common refactorings, maintained by Martin Fowler, a leading authority on refactoring. He is also the author of the ‘bestseller’ on refactoring: <a href="https://martinfowler.com/books/#refactoring">Refactoring: Improving the Design of Existing Code</a></li>
                      <li>Python: <a href="https://refactoring.guru/refactoring/catalog">https://refactoring.guru/refactoring/catalog</a> -- A catalog of refactorings applicable to Python code.</li>
                    </ul>
                  </div>
                </b-modal>
                <box>
                  <p>Refactoring Name: <strong>Consolidate Duplicate Conditional Fragments</strong></p>
                  <p>Situation: The same fragment of code is in all branches of a conditional expression.</p>
                  <p>Method: Move it outside of the expression.</p>
                  <p><span><span aria-hidden="true" class="fas fa-cube"></span></span> Example:</p>
                  <div class="alt-java">
                    <div>
                      <table>
                        <tr>
                          <td valign="top">
                            <pre><code class="hljs java"><span><span class="hljs-keyword">if</span> (isSpecialDeal()) {<br></span><span>    total = price * <span class="hljs-number">0.95</span>;<br></span><span>    send();<br></span><span>} <span class="hljs-keyword">else</span> {<br></span><span>    total = price * <span class="hljs-number">0.98</span>;<br></span><span>    send();<br></span><span>}<br></span></code></pre>
                          </td>
                          <td valign="center">&nbsp;→&nbsp;</td>
                          <td valign="top">
                            <pre><code class="hljs java"><span><span class="hljs-keyword">if</span> (isSpecialDeal()){<br></span><span>    total = price * <span class="hljs-number">0.95</span>;<br></span><span>} <span class="hljs-keyword">else</span> {<br></span><span>    total = price * <span class="hljs-number">0.98</span>;<br></span><span>}<br></span><span>send();<br></span><span><br></span></code></pre>
                          </td>
                        </tr>
                      </table>
                    </div>
                  </div>
                  <div class="alt-python">
                    <div>
                      <table>
                        <tr>
                          <td valign="top">
                            <pre><code class="hljs python"><span><span class="hljs-keyword">if</span> is_special_deal:<br></span><span>    total = price * <span class="hljs-number">0.95</span><br></span><span>    send()<br></span><span><span class="hljs-keyword">else</span>:<br></span><span>    total = price * <span class="hljs-number">0.98</span><br></span><span>    send()<br></span></code></pre>
                          </td>
                          <td valign="center">&nbsp;→&nbsp;</td>
                          <td valign="top">
                            <pre><code class="hljs python"><span><span class="hljs-keyword">if</span> is_special_deal:<br></span><span>    total = price * <span class="hljs-number">0.95</span><br></span><span><span class="hljs-keyword">else</span>:<br></span><span>    total = price * <span class="hljs-number">0.98</span><br></span><span>    <br></span><span>send()<br></span></code></pre>
                          </td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </box>
                <box>
                  <p>Refactoring Name: <strong>Extract Method</strong></p>
                  <p>Situation: You have a code fragment that can be grouped together.</p>
                  <p>Method: Turn the fragment into a method whose name explains the purpose of the method.</p>
                  <p><span><span aria-hidden="true" class="fas fa-cube"></span></span> Example:</p>
                  <div class="alt-java">
                    <div>
                      <pre><code class="hljs java"><span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printOwing</span><span class="hljs-params">()</span> </span>{<br></span><span>    printBanner();<br></span><span><br></span><span>    <span class="hljs-comment">//print details</span><br></span><span>    System.out.println(<span class="hljs-string">"name:	"</span> + name);<br></span><span>    System.out.println(<span class="hljs-string">"amount	"</span> + getOutstanding());<br></span><span>}<br></span></code></pre>
                      <p><span><span aria-hidden="true" class="fas fa-arrow-down"></span></span></p>
                      <pre><code class="hljs java"><span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printOwing</span><span class="hljs-params">()</span> </span>{<br></span><span>    printBanner();<br></span><span>    printDetails(getOutstanding());<br></span><span>}<br></span><span><br></span><span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printDetails</span> <span class="hljs-params">(<span class="hljs-keyword">double</span> outstanding)</span> </span>{<br></span><span>    System.out.println(<span class="hljs-string">"name:	"</span> + name);<br></span><span>    System.out.println(<span class="hljs-string">"amount	"</span> + outstanding);<br></span><span>}<br></span></code></pre>
                    </div>
                  </div>
                  <div class="alt-python">
                    <div>
                      <pre><code class="hljs python"><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_owing</span><span class="hljs-params">()</span>:</span><br></span><span>    print_banner()<br></span><span><br></span><span>    //<span class="hljs-keyword">print</span> details<br></span><span>    print(<span class="hljs-string">"name:	"</span> + name)<br></span><span>    print(<span class="hljs-string">"amount	"</span> + get_outstanding())<br></span></code></pre>
                      <p><span><span aria-hidden="true" class="fas fa-arrow-down"></span></span></p>
                      <pre><code class="hljs python"><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_owing</span><span class="hljs-params">()</span>:</span><br></span><span>    print_banner()<br></span><span>    print_details(get_outstanding())<br></span><span><br></span><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_details</span><span class="hljs-params">(amount)</span>:</span><br></span><span>    print(<span class="hljs-string">"name:	"</span> + name)<br></span><span>    print(<span class="hljs-string">"amount	"</span> + amount)<br></span></code></pre>
                    </div>
                  </div>
                </box>
                <p><span class="badge badge-pill badge-warning"><span aria-hidden="true" class="fas fa-lightbulb"></span></span> Some IDEs have built in support for basic refactorings such as automatically renaming a variable/method/class in all places it has been used.</p>
                <p>
                  <font color="red"><big><span aria-hidden="true" class="glyphicon glyphicon-exclamation-sign"></span></big></font> Refactoring, even if done with the aid of an IDE, may still result in regressions. Therefore, each small refactoring should be followed by regression testing.
                </p>
              </div>
            </div>
            <div>
              <p>
              <div>
                <h4 id="how"><span>How</span><a class="fa fa-anchor" href="#how" onclick="event.stopPropagation()"></a></h4>
              </div>
              </p>
              <div>
                <p>Given below are some more commonly used refactorings. A more comprehensive list is available at <span trigger="click" for="modal:refactoring-catalog-how" v-b-popover.click.top.html="popoverGenerator" v-b-tooltip.click.top.html="tooltipContentGetter" v-on:click="$refs['modal:refactoring-catalog-how'].show()" class="trigger-click"> refactoring-catalog </span>.</p>
                <b-modal id="modal:refactoring-catalog-how" hide-footer size modal-class="mb-zoom" ref="modal:refactoring-catalog-how"><template slot="modal-title"><strong>Refactoring Catalog</strong></template>
                  <div>
                    <ul>
                      <li>Java: <a href="http://refactoring.com/catalog/">http://refactoring.com/catalog/</a> - This is a list of common refactorings, maintained by Martin Fowler, a leading authority on refactoring. He is also the author of the ‘bestseller’ on refactoring: <a href="https://martinfowler.com/books/#refactoring">Refactoring: Improving the Design of Existing Code</a></li>
                      <li>Python: <a href="https://refactoring.guru/refactoring/catalog">https://refactoring.guru/refactoring/catalog</a> -- A catalog of refactorings applicable to Python code.</li>
                    </ul>
                  </div>
                </b-modal>
                <ol>
                  <li><a href="https://refactoring.com/catalog/consolidateConditionalExpression.html">Consolidate Conditional Expression</a></li>
                  <li><a href="https://refactoring.com/catalog/decomposeConditional.html">Decompose Conditional</a></li>
                  <li><a href="https://refactoring.com/catalog/inlineMethod.html">Inline Method</a></li>
                  <li><a href="https://refactoring.com/catalog/removeDoubleNegative.html">Remove Double Negative</a></li>
                  <li><a href="https://refactoring.com/catalog/replaceMagicLiteral.html">Replace Magic Literal</a></li>
                  <li><a href="https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html">Replace Nested Conditional with Guard Clauses</a></li>
                  <li><a href="https://refactoring.com/catalog/replaceParameterWithExplicitMethods.html">Replace Parameter with Explicit Methods</a></li>
                  <li><a href="https://refactoring.com/catalog/reverseConditional.html">Reverse Conditional</a></li>
                  <li><a href="https://refactoring.com/catalog/splitLoop.html">Split Loop</a></li>
                  <li><a href="https://refactoring.com/catalog/splitTemporaryVariable.html">Split Temporary Variable</a></li>
                </ol>
              </div>
            </div>
            <div>
              <p>
              <div>
                <h4 id="when"><span>When</span><a class="fa fa-anchor" href="#when" onclick="event.stopPropagation()"></a></h4>
              </div>
              </p>
              <div>
                <p>You know that it is important to refactor frequently so as to avoid the accumulation of ‘messy’ code which might get out of control. But how much refactoring is too much refactoring? <strong>It is too much refactoring when the benefits no longer justify the cost.</strong> The costs and the benefits depend on the context. That is why some refactorings are ‘opposites’ of each other (e.g. <a href="https://refactoring.com/catalog/extractMethod.html"><em>extract method</em></a> vs <a href="https://refactoring.com/catalog/inlineMethod.html"><em>inline method</em></a>).</p>
              </div>
            </div>
          </div>
        </div>
      </div>


    </div>
    <footer>

      <div class="text-center">
        <small>[Powered by <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 2.14.1</a> on Sat, May 30, 2020, 1:07:55 AM GMT+8]</small></div>
    </footer>
  </div>
</body>
<script src="../markbind/js/vue.min.js"></script>
<script src="../markbind/js/vue-strap.min.js"></script>
<script src="../markbind/js/bootstrap-utility.min.js"></script>
<script src="../markbind/js/polyfill.min.js"></script>
<script src="../markbind/js/bootstrap-vue.min.js"></script>
<script>
  const baseUrl = '/se-book'
  const enableSearch = true
</script>
<script src="../markbind/js/setup.js"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  function initAlgolia() {
    docsearch({
      apiKey: "8310bb56d1ece8950bd20b0b8c080e10",
      indexName: "se-edu",
      inputSelector: "#algolia-search-input",
      algoliaOptions: {},
      debug: false,
    });
  }
  MarkBind.afterSetup(initAlgolia);
</script>
<script src="../markbind/layouts/default/scripts.js"></script>

</html>